<div id="main">
  <div class="page-content">
    <div class="banner-wrapper shape-1">
      {% include 'development/partials/header_welcome.html' %}
      <div class="container inner-wrapper">
        <h2 class="dz-title">Informe uma nova senha</h2>
        <p class="mb-0">Por favor preeencha os campos abaixo</p>
      </div>
    </div>
    <div class="container">
      {% if message %}
        {% include 'development/components/toast.html' %}
      {% endif %}
      <div class="account-area">
        <form
          hx-post="{% url 'users:change-password' %}"
          hx-swap="outerHTML"
          hx-target="#main"
          hx-indicator="#preloader"
          hx-vals='{"user": "{{user}}"}'
        >
          <div class="input-group">
            <input
              type="password"
              placeholder="Senha"
              id="dz-password"
              class="form-control be-0"
              name='password'
            />
            <span class="input-group-text show-pass">
              <i class="fa fa-eye-slash"></i>
              <i class="fa fa-eye"></i>
            </span>
          </div>
          {% include 'development/components/form_error.html' %}
          <div class="input-group">
            <button type="submit" class="btn mt-2 btn-primary w-100 btn-rounded"
              >Alterar senha
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer class="footer fixed">
    <div class="container">
      <a
        href="#"
        hx-get="{% url 'users:login'%}"
        hx-swap='outerHTML'
        hx-target='#main'
        class="btn btn-primary light btn-rounded text-primary d-block"
        >Entrar com senha</a
      >
    </div>
  </footer>
</div>
<script>
	$(function(){
		$('.show-pass').on('click',function(){
			$(this).toggleClass('active');
			if($('#dz-password').attr('type') == 'password'){
				$('#dz-password').attr('type','text');
			}else if($('#dz-password').attr('type') == 'text'){
				$('#dz-password').attr('type','password');
			}
	  })
  })
</script>

